<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>recaria v017 Test</title>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.70.0/dist/phaser.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #1e3c72;
            color: white;
            font-family: Arial, sans-serif;
        }
        
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .controls {
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .controls input, .controls button {
            margin: 5px;
            padding: 8px 12px;
            border: none;
            border-radius: 5px;
        }
        
        .controls input {
            background: #333;
            color: white;
            width: 200px;
        }
        
        .controls button {
            background: #ff6b35;
            color: white;
            cursor: pointer;
        }
        
        .controls button:hover {
            background: #e55a2b;
        }
        
        .status {
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .online-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #00ff00;
        }
        
        #game-container {
            border: 2px solid #333;
            border-radius: 10px;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ü•ï recaria v017 - Test S√ºr√ºm√º</h1>
        <p>Yazar: Berk Hatƒ±rlƒ± - Bitez Bodrum</p>
    </div>
    
    <div class="controls">
        <div>
            <input type="text" id="teleportInput" placeholder="Nereye ƒ±≈üƒ±nlanmak istiyorsunuz?" />
            <button onclick="teleport()">üåç I≈üƒ±nlan</button>
            <button onclick="returnToReal()">üè† Reel Noktaya D√∂n</button>
        </div>
        <div>
            <button onclick="toggleStreets()">üìç Sokak ƒ∞simleri</button>
            <button onclick="zoomIn()">üîç Zoom +</button>
            <button onclick="zoomOut()">üîç Zoom -</button>
        </div>
    </div>
    
    <div class="status">
        <div><strong>üìç Durum:</strong> <span id="status">Bitez Bodrum - Zero Point</span></div>
        <div><strong>üéÆ Koordinat:</strong> <span id="coords">(400, 300)</span></div>
        <div><strong>üåê Baƒülantƒ±:</strong> <span id="connection">Online</span></div>
    </div>
    
    <div class="online-indicator" id="indicator"></div>
    
    <div id="game-container"></div>

    <script>
        // Global deƒüi≈ükenler
        let game;
        let player;
        let currentZoom = 1;
        let showStreets = true;
        let playerX = 400;
        let playerY = 300;
        
        // Oyun konfig√ºrasyonu
        const config = {
            type: Phaser.AUTO,
            width: 800,
            height: 600,
            parent: 'game-container',
            backgroundColor: '#87CEEB',
            scene: {
                preload: preload,
                create: create,
                update: update
            }
        };
        
        // Oyun ba≈ülatma
        window.onload = function() {
            console.log("Sayfa y√ºklendi, Phaser ba≈ülatƒ±lƒ±yor...");
            try {
                game = new Phaser.Game(config);
                console.log("Phaser oyunu ba≈üarƒ±yla olu≈üturuldu!");
                updateStatus("Phaser 3.70.0 y√ºklendi!");
            } catch (error) {
                console.error("Phaser ba≈ülatma hatasƒ±:", error);
                updateStatus("Hata: " + error.message);
            }
        };
        
        function preload() {
            console.log("Preload fonksiyonu √ßalƒ±≈üƒ±yor...");
            
            // Basit renkli kareler olu≈ütur
            this.add.graphics()
                .fillStyle(0x00ff00)
                .fillRect(0, 0, 32, 32)
                .generateTexture('grass');
                
            this.add.graphics()
                .fillStyle(0x808080)
                .fillRect(0, 0, 32, 32)
                .generateTexture('road');
                
            this.add.graphics()
                .fillStyle(0x0000ff)
                .fillRect(0, 0, 32, 32)
                .generateTexture('water');
                
            console.log("Texture'lar olu≈üturuldu!");
        }
        
        function create() {
            console.log("Create fonksiyonu √ßalƒ±≈üƒ±yor...");
            
            // Harita olu≈ütur
            for (let y = 0; y < 20; y++) {
                for (let x = 0; x < 25; x++) {
                    let tileType = 'grass';
                    
                    // Yollar
                    if (x % 5 === 0 || y % 5 === 0) {
                        tileType = 'road';
                    }
                    
                    // Su alanlarƒ±
                    if (x > 15 && x < 20 && y > 10 && y < 15) {
                        tileType = 'water';
                    }
                    
                    this.add.image(x * 32 + 16, y * 32 + 16, tileType);
                }
            }
            
            // Oyuncu
            player = this.add.circle(playerX, playerY, 10, 0xff6b35);
            
            // Mouse kontrolleri
            this.input.on('pointerdown', function (pointer) {
                if (pointer.rightButtonDown()) {
                    // Saƒü tƒ±k ile hareket
                    playerX = pointer.x;
                    playerY = pointer.y;
                    player.x = playerX;
                    player.y = playerY;
                    updateCoords();
                    console.log("Saƒü tƒ±k hareket:", playerX, playerY);
                }
            });
            
            // Mouse scroll ile zoom
            this.input.on('wheel', function (pointer, gameObjects, deltaX, deltaY, deltaZ) {
                if (deltaY > 0) {
                    zoomOut();
                } else {
                    zoomIn();
                }
            });
            
            console.log("Oyun sahnesi olu≈üturuldu!");
            updateStatus("Oyun ba≈üarƒ±yla y√ºklendi!");
        }
        
        function update() {
            // Oyun d√∂ng√ºs√º
        }
        
        // Kontrol fonksiyonlarƒ±
        function teleport() {
            const location = document.getElementById('teleportInput').value.trim();
            if (!location) return;
            
            updateStatus("üåç " + location + " aranƒ±yor...");
            updateConnection("Loading");
            
            // 2 saniye loading
            setTimeout(() => {
                // Rastgele konum
                playerX = Math.random() * 600 + 100;
                playerY = Math.random() * 400 + 100;
                
                if (player) {
                    player.x = playerX;
                    player.y = playerY;
                }
                
                updateStatus("‚úÖ " + location + " konumuna ƒ±≈üƒ±nlandƒ±nƒ±z!");
                updateConnection("Online");
                updateCoords();
                
                // Arka planda veri y√ºkleme sim√ºlasyonu
                setTimeout(() => {
                    updateStatus("üìä Sokak bilgileri y√ºklendi!");
                }, 3000);
                
                setTimeout(() => {
                    updateStatus("üè¢ Bina bilgileri y√ºklendi!");
                }, 5000);
                
            }, 2000);
            
            document.getElementById('teleportInput').value = '';
        }
        
        function returnToReal() {
            updateStatus("üè† Reel noktaya d√∂n√ºl√ºyor...");
            
            playerX = 400;
            playerY = 300;
            
            if (player) {
                player.x = playerX;
                player.y = playerY;
            }
            
            updateStatus("‚úÖ Bitez Bodrum zero point'e d√∂nd√ºn√ºz!");
            updateCoords();
        }
        
        function toggleStreets() {
            showStreets = !showStreets;
            updateStatus("üìç Sokak isimleri: " + (showStreets ? "A√ßƒ±k" : "Kapalƒ±"));
        }
        
        function zoomIn() {
            if (currentZoom < 3) {
                currentZoom += 0.1;
                if (game && game.scene.scenes[0]) {
                    game.scene.scenes[0].cameras.main.setZoom(currentZoom);
                }
                updateStatus("üîç Zoom: " + Math.round(currentZoom * 100) + "%");
            }
        }
        
        function zoomOut() {
            if (currentZoom > 0.5) {
                currentZoom -= 0.1;
                if (game && game.scene.scenes[0]) {
                    game.scene.scenes[0].cameras.main.setZoom(currentZoom);
                }
                updateStatus("üîç Zoom: " + Math.round(currentZoom * 100) + "%");
            }
        }
        
        // Yardƒ±mcƒ± fonksiyonlar
        function updateStatus(message) {
            document.getElementById('status').textContent = message;
            console.log("Status:", message);
        }
        
        function updateCoords() {
            document.getElementById('coords').textContent = `(${Math.round(playerX)}, ${Math.round(playerY)})`;
        }
        
        function updateConnection(status) {
            const indicator = document.getElementById('indicator');
            const connection = document.getElementById('connection');
            
            switch(status) {
                case 'Online':
                    indicator.style.background = '#00ff00';
                    connection.textContent = 'Online';
                    break;
                case 'Loading':
                    indicator.style.background = '#ffaa00';
                    connection.textContent = 'Loading';
                    break;
                case 'Offline':
                    indicator.style.background = '#ff0000';
                    connection.textContent = 'Offline';
                    break;
            }
        }
        
        // Klavye kontrolleri
        document.addEventListener('keydown', function(event) {
            const moveSpeed = 20;
            
            switch(event.key) {
                case 'w':
                case 'W':
                case 'ArrowUp':
                    playerY -= moveSpeed;
                    break;
                case 's':
                case 'S':
                case 'ArrowDown':
                    playerY += moveSpeed;
                    break;
                case 'a':
                case 'A':
                case 'ArrowLeft':
                    playerX -= moveSpeed;
                    break;
                case 'd':
                case 'D':
                case 'ArrowRight':
                    playerX += moveSpeed;
                    break;
            }
            
            if (player) {
                player.x = playerX;
                player.y = playerY;
                updateCoords();
            }
        });
        
        console.log("JavaScript y√ºklendi!");
    </script>
</body>
</html>

